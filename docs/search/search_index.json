{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"PlayerLevels","text":"<p>PlayerLevels is a leveling and reward system designed for Minecraft server networks.</p> <p>Most important features: - Configurable leveling system with XP levels - Reward system with configurable one-time and recurring rewards - Server-dependent rewards in a network - Many management commands for moderators and admins - Extensive developer API</p> <p>This plugin is not an all-inclusive drop-in solution for a leveling system. The plugin was designed for server networks that can integrate this plugin into existing plugins via the API or use plugins that have an integration for this plugin.</p> <p>By default, there is no way to earn XP as a player. This has to be done by other plugins via the API.</p>"},{"location":"api-getting-started/","title":"API: Getting started","text":""},{"location":"api-getting-started/#add-dependency","title":"Add dependency","text":"<p>To use the PlayerLevels API, you need to import it into your project. You can do this with gradle or maven.</p> <p>Gradle:</p> <pre><code>repositories {\n    // [...]\n    maven {\n        name = \"chaossquad-releases\"\n        url = uri(\"https://maven.chaossquad.net/releases\")\n    }\n}\n\ndependencies {\n    // [...]\n    compileOnly(\"net.jandie1505:PlayerLevels-API:VERSION\")\n}\n</code></pre> <p>Maven:</p> <pre><code>    &lt;repositories&gt;\n        &lt;repository&gt;\n            &lt;id&gt;chaossquad-releases&lt;/id&gt;\n            &lt;url&gt;https://maven.chaossquad.net/releases&lt;/url&gt;\n        &lt;/repository&gt;\n    &lt;/repositories&gt;\n\n    &lt;dependencies&gt;\n        &lt;dependency&gt;\n            &lt;groupId&gt;net.jandie1505&lt;/groupId&gt;\n            &lt;artifactId&gt;PlayerLevels-API&lt;/artifactId&gt;\n            &lt;version&gt;VERSION&lt;/version&gt;\n            &lt;scope&gt;provided&lt;/scope&gt;\n        &lt;/dependency&gt;\n    &lt;/dependencies&gt;\n</code></pre>"},{"location":"api-getting-started/#obtaining-the-api-object","title":"Obtaining the API object","text":"<pre><code>public void onEnable() {\n    PlayerLevelsAPI api = PlayerLevelsAPIProvider.getApi();\n}\n</code></pre>"},{"location":"api-players/","title":"API: Players","text":""},{"location":"api-players/#getting-a-player","title":"Getting a player","text":"<p>In PlayerLevels, players are represented by a Leveler. You can obtain a Leveler by using the LevelingManager.</p> <pre><code>Player player;\nLevelingManager levelManager = api.getLevelManager();\n\n// Get a cached Leveler\nLeveler cachedLeveler = levelManager.getLeveler(player.getUniqueId());\n\n// If the leveler is not loaded, you can load it from the database.\n// Normally, the Leveler of all online players is loaded.\n// Since loadLeveler loads data from a database asynchronously, it returns a CompletableFuture of an Leveler.\nCompletableFuture&lt;Leveler&gt; future = levelManager.loadLeveler(player.getUniqueId());\n\nfuture.thenAccept(leveler -&gt; {\n    // Do stuff\n\n    // If you need to use the Bukkit API, you need to go back into the main thread\n    new BukkitRunnable() {\n        @Override\n        public void run() {\n            // Do Bukkit API stuff\n        }\n    }.runTask(plugin);\n});\n</code></pre>"},{"location":"api-players/#modifying-player-data","title":"Modifying player data","text":""},{"location":"api-players/#level-and-xp","title":"Level and XP","text":"<p>The Leveler contains the LevelerData, which stores the players leveling information.</p> <p>You can use this data to modify the player's level and xp:</p> <pre><code>// Get the leveler's data\nLevelerData data = leveler.getData();\n\n// Get/Set Level\nint level = data.level();\ndata.level(10);\n\n// Get/Set XP\ndouble xp = data.xp();\ndata.xp(10);\n</code></pre>"},{"location":"api-players/#received-reward-entries","title":"Received reward entries","text":"<p>The LevelerData also stores which rewards the player has already received. You can modify this information:</p> <pre><code>// Get the leveler's data\nLevelerData data = leveler.getData();\n\n// Get all received reward entries\nMap&lt;String, ReceivedReward&gt; receivedRewards = data.getReceivedRewards();\n\n// Get one received reward entry\nReceivedReward reward = data.getReceivedReward(\"my_reward\");\n\n// Set the the reward blocked (the player will not receive the reward when it's blocked)\nboolean blocked = reward.blocked();\nreward.blocked(true);\n\n// Set the level where the player has received the reward.\n// The plugin uses this information to check if the player has already received the reward.\nint receivedLevel = reward.level();\nreward.level(10);\n\n// Reset the reward entry to the default reward entry.\n// A default reward entry will remove it from the database on the next sync.\nreward.reset();\n\n// Deleting an entry\ndata.removeReceivedReward(\"my_reward\");\n</code></pre>"},{"location":"api-players/#processing-a-player","title":"Processing a player","text":"<p>When PlayerLevels processes a player, this means that it checks if the player has enough xp to level up, checks if any reward can be applied to the player, updates the cached name and cleans up unused received reward entries when enabled.</p> <p>Normally, players are automatically processed in a specific interval.</p> <p>If you have changed the level or xp of a player, you should process the player manually, because if you don't, the player could see incorrect values for the next few minutes.</p> <pre><code>Leveler leveler;\nleveler.processAsynchronously();\n</code></pre>"},{"location":"api-players/#cache-database-and-synchronization","title":"Cache, database and synchronization","text":"<p>The plugin stores the player data in a MariaDB database. Since it would be very resource-heavy for the database when every command will send a request to it, PlayerLevels caches the data of all online players.</p> <p>To keep the data in the database up-to-date, PlayerLevels synchronizes the data every few minutes. When the player leaves, the data is also pushed to the database (and the player is removed from the cache).</p> <p>You can also sync the data with the database manually:</p> <pre><code>Leveler leveler;\nleveler.syncAsynchronously();\n</code></pre> <p>This will return a result, which allows you to see if the sync was successful.</p> <p>Please note that the database always has priority. If there have been changes both in the database and locally, the data from the database is always adopted. If this happened, you will see it in the returned result.</p>"},{"location":"api-players/#deleting-a-player","title":"Deleting a player","text":"<p>If you want to, you can also delete a player completely from the database and cache:</p> <pre><code>UUID playerId;\nLevelingManager levelingManager;\nlevelingManager.erasePlayerAsynchronously(playerId);\n</code></pre> <p>It is recommended that the player is offline when you delete them, because if not, the plugin would just create a new Leveler instance.</p>"},{"location":"api-players/#events","title":"Events","text":""},{"location":"api-players/#levelupevet","title":"LevelUpEvet","text":"<p>The <code>LevelUpEvent</code> is called when a player has been leveled up.</p> <pre><code>@EventHandler\npublic void onLevelUp(LevelUpEvent event) {\n    Leveler leveler = event.getLeveler(); // The leveler which has leveled up\n    int oldLevel = event.getOldLevel(); // The level before the levelup.\n    int newLevel = event.getNewLevel(); // The new/current level\n}\n</code></pre>"},{"location":"api-players/#rewardapplyevent","title":"RewardApplyEvent","text":"<p>The <code>RewardApplyEvent</code> is called when a reward is applied, but before the reward is applied. It can be used to manipulate if/how the reward is applied.</p> <pre><code>@EventHandler\npublic void onRewardApply(RewardApplyEvent event) {\n\n    Leveler leveler = event.getLeveler(); // The leveler that receives the reward\n    Reward reward = event.getReward(); // The reward that is applied\n    int level = event.getLevel(); // The level the reward is applied for\n\n    RewardApplyEvent.Result result = event.getResult(); // Returns the reward result\n\n    event.setResult(RewardApplyEvent.Result.APPLY); // Apply the reward normally (default)\n    event.setResult(RewardApplyEvent.Result.APPLY_SKIP); // Apply the reward, but don't mark it as applied\n    event.setResult(RewardApplyEvent.Result.CANCEL_SKIP); // Do not apply the reward\n    event.setResult(RewardApplyEvent.Result.CANCEL_MARK_APPLIED); // Do not apply the reward, but mark it as applied\n\n}\n</code></pre>"},{"location":"api-players/#rewardappliedevent","title":"RewardAppliedEvent","text":"<p>The <code>RewardAppliedEvent</code> is called when a reward has been applied successfully.</p> <pre><code>public void onRewardApply(RewardAppliedEvent event) {\n    Leveler leveler = event.getLeveler(); // The leveler that receives the reward\n    Reward reward = event.getReward(); // The reward that is applied\n    int level = event.getLevel(); // The level the reward is applied for\n}\n</code></pre>"},{"location":"api-rewards/","title":"API: Rewards","text":"<p>This part of the API can be used to manage rewards.</p>"},{"location":"api-rewards/#get-the-rewardsmanager","title":"Get the RewardsManager","text":"<p>Rewards are stored in the RewardsManager. You can get the RewardsManager from the API object:</p> <pre><code>PlayerLevelsAPI api;\nRewardsManager manager = api.getRewardsManager();\n</code></pre>"},{"location":"api-rewards/#managing-rewards","title":"Managing Rewards","text":""},{"location":"api-rewards/#getting-rewards","title":"Getting rewards","text":"<p>From the RewardsManager, you can get, create and delete rewards:</p> <pre><code>// Get all registered rewards\nMap&lt;String, Reward&gt; rewards = manager.getRewards();\n\n// Get one reward with a specific ID\nReward reward = manager.getReward(\"my_reward\");\n</code></pre>"},{"location":"api-rewards/#adding-or-removing-rewards-directly","title":"Adding or removing rewards directly","text":"<p>Adding or removing a reward directly is not recommended, since it can unexpected behavior. If you are creating custom rewards, register a RewardCreator to the RewardsRegistry as described in another section below.</p>"},{"location":"api-rewards/#removing","title":"Removing","text":"<p>Removing a reward is easy:</p> <pre><code>manager.removeReward(\"my_reward\");\n</code></pre>"},{"location":"api-rewards/#adding","title":"Adding","text":"<p>Adding a reward directly is complicated and should be avoided. As mentioned above, use the RewardsRegistry.</p>"},{"location":"api-rewards/#1-rewardconfig","title":"1. RewardConfig","text":"<p>First, you need a RewardConfig:</p> <pre><code>RewardConfig rewardConfig = new RewardConfig(\"my_reward\", null, \"My Reward\");\n</code></pre>"},{"location":"api-rewards/#2-rewarddata","title":"2. RewardData","text":"<p>Then, you need a RewardData. And this is where it gets complicated.</p> <p>You can either completely create it on your own, or use a predefined reward.</p> <p>Creating RewardData manually:</p> <pre><code>RewardExecutor executor = (reward, leveler, level) -&gt; {\n    // What your reward should do when its applied\n};\n\nRewardCondition condition = null;\nRewardDescriptionProvider descriptionProvider = null;\nboolean requiresOnlinePlayer = true;\n\n// Create an interval reward data\nIntervalRewardData intervalData = new IntervalRewardData(executor, condition, descriptionProvider, true, 1, 1, -1);\n\n// Create a milestone reward\nMilestoneRewardData milestoneData = new MilestoneRewardData(executor, condition, descriptionProvider, true, 10);\n</code></pre> <p>Using a predefined RewardData:</p> <pre><code>MilestoneRewardData milestoneData = CommandReward.createMilestone(\"command\", true, CommandReward.SenderType.CONSOLE, null, 1);\nIntervalRewardData intervalData = CommandReward.createInterval(\"command\", true, CommandReward.SenderType.CONSOLE, 1, 1, -1);\n</code></pre>"},{"location":"api-rewards/#3-registering-the-reward","title":"3. Registering the reward","text":"<p>If you have both your RewardConfig and RewardData, you can register your reward.</p> <pre><code>RewardsManager manager;\nmanager.addMilestoneReward(rewardConfig, milestoneData);\nmanager.addIntervalReward(rewardConfig, intervalData);\n</code></pre>"},{"location":"api-rewards/#custom-reward-types-and-rewardregistry","title":"Custom reward types and RewardRegistry","text":"<p>Using the RewardRegistry and custom reward types is the recommended way for creating custom rewards.</p>"},{"location":"api-rewards/#creating-a-custom-reward-type","title":"Creating a custom reward type","text":"<p>To create a custom reward type, you need to create a new class, import the necessary interfaces and implement their methods.</p> <p>A typical class looks like this:</p> <pre><code>public class MyCustomReward implements RewardExecutor, RewardDescriptionProvider {\n\n    // Here you create your reward functionality.\n    // You can also implement RewardCondition to add a reward custom condition.\n\n    private MyCustomReward() {\n        // Your constructor\n    }\n\n    @Override\n    public boolean onApply(@NotNull Reward reward, @NotNull Leveler leveler, int level) {\n        // Here comes your code which is executed when the reward is applied (given) to a player.\n        // Example:\n        Player player = Bukkit.getPlayer(leveler.getPlayerUUID());\n        if (player == null) return false;\n        player.sendRichMessage(\"&lt;gold&gt;You have received the following reward for reaching level \" + level + \": \" + reward.getName());\n        return true;\n    }\n\n    @Override\n    public @Nullable Component getDescription(int level) {\n        // Here comes your code for getting the description which is most likely be displayed to the user when receiving the reward.\n        // Example:\n        return MiniMessage.miniMessage().deserialize(\n                \"Receiving a wonderful message for reaching level &lt;level&gt;\",\n                TagResolver.resolver(\"level\", Tag.inserting(Component.text(level)))\n        );\n    }\n\n    // Since your reward functionality is now implemented, you need methods for creating the RewardData.\n    // If your reward type only works as a MilestoneReward or IntervalReward, you can remove on of those methods.\n    // For example, if you have a custom reward condition (implementing RewardCondition), the reward should not be\n    // creatable as an IntervalReward for safety reasons.\n\n    // This is called when the reward is created as MilestoneReward\n    public static MilestoneRewardData createMilestone(int level) {\n        MyCustomReward reward = new MyCustomReward();\n        return new MilestoneRewardData(reward, null, reward, true, level);\n    }\n\n    // This is called when the reward is created as IntervalReward\n    public static IntervalRewardData createInterval(int start, int interval, int limit) {\n        MyCustomReward reward = new MyCustomReward();\n        return new IntervalRewardData(reward, null, reward, true, start, interval, limit);\n    }\n\n    // Now, the reward could be created and registered directly to the RewardManager.\n    // But as explained in the previous section, this is not a good idea.\n    // So we now need to create a RewardCreator which can then be registered to the RewardRegistry.\n    // The RewardCreator converts the yml config to a RewardData.\n\n    public static class Creator implements RewardCreator {\n\n        public Creator() {}\n\n        @Override\n        public @Nullable MilestoneRewardData createMilestoneReward(@NotNull DataStorage data) {\n            return createMilestone(data.optInt(\"level\", 0));\n        }\n\n        @Override\n        public @Nullable IntervalRewardData createIntervalReward(@NotNull DataStorage data) {\n            return createInterval(data.optInt(\"start\", 1), data.optInt(\"interval\", 1), data.optInt(\"limit\", -1));\n        }\n\n    }\n\n    // You also don't need to implement both methods here if your reward only supports Milestone or Interval.\n\n    // You have now created your custom reward type.\n    // To use it, you need to register it to the RewardRegistry.\n\n}\n</code></pre>"},{"location":"api-rewards/#rewardregistry","title":"RewardRegistry","text":"<p>The RewardRegistry stores RewardCreators which are then converting the yml from the <code>rewards.yml</code> to a RewardData.</p> <p>You can use the RewardRegistry like that:</p> <pre><code>PlayerLevelsAPI api = PlayerLevelsAPIProvider.getApi();\nRewardsRegistry registry = api.getRewardsRegistry();\n\nregistry.registerCreator(\"my_custom_reward\", new MyCustomReward.Creator());\n</code></pre> <p>You can now create a reward with your custom reward type in the <code>rewards.yml</code>:</p> <pre><code>test_milestone_reward:\n  name: Milestone Test\n  apply_type: milestone\n  type: my_custom_reward  # &lt;-- Your custom reward type\n  level: 10\n  # If you have added more attributes in your RewardCreator, you can add them here.\n</code></pre> <pre><code>test_interval_reward:\n  name: Interval Test\n  apply_type: interval\n  type: my_custom_reward  # &lt;-- Your custom reward type\n  start: 1\n  interval: 1\n  limit: -1\n  # If you have added more attributes in your RewardCreator, you can add them here.\n</code></pre>"},{"location":"commands/","title":"Command Reference","text":"<p>The plugin has many commands. Here is an overview for all of them.</p>"},{"location":"commands/#structure","title":"Structure","text":"<p>This is the full command structure of the plugin:</p> <p><code>/levels</code></p> <ul> <li><code>info</code> (get level of other players)</li> <li><code>top</code> (show toplist)</li> <li><code>milestones</code> (show list of milestone rewards)</li> <li><code>manage</code> (management commands for moderators/admins)</li> <li><code>players</code> (manage players)<ul> <li><code>info</code> (get player info)</li> <li><code>level</code> (see/modify player level)</li> <li><code>xp</code> (see/modify player xp)</li> <li><code>rewards</code> (see/modify received rewards)</li> <li><code>cached-name</code> (see/reset cached name)</li> <li><code>sync</code> (sync with database)</li> <li><code>process</code> (update player's values)</li> <li><code>erase</code> (erase player from database)</li> </ul> </li> <li><code>rewards</code> (manage rewards)<ul> <li><code>info</code> (get info about reward)</li> <li><code>list</code> (show all rewards)</li> <li><code>enable</code> (enable/disable rewards)</li> <li><code>reload</code> (reload rewards)</li> </ul> </li> <li><code>debug</code> (debug commands for admins)</li> <li><code>cache</code> (modify the cache)</li> <li><code>config</code> (change config values)</li> <li><code>database</code> (manage database connection)</li> <li><code>messages</code> (change message values)</li> <li><code>info</code> (get plugin information)</li> <li><code>reload</code> (reload config/messages)</li> </ul> <p>As you can see, this is a huge number of commands. But you most likely only need a small amount of them.</p>"},{"location":"commands/#player-commands","title":"Player commands","text":"<p>These commands are for normal players:</p> Command Permission Use case <code>/level</code> none Show own leveling progress. <code>/level info &lt;player&gt;</code> <code>playerlevels.command.info.view_other</code> Show level of other players. <code>/level top [page]</code> <code>playerlevels.command.toplist</code> View the toplist. <code>/level milestones</code> <code>playerlevels.command.rewards</code> View a list of all milestones."},{"location":"commands/#management-commands","title":"Management commands","text":""},{"location":"commands/#players","title":"Players","text":"<p>These commands are there for managing players:</p> Action Command Player Info <code>/levels manage players info &lt;player&gt; [--use-cache]</code> Manage level <code>/levels manage players level (get &lt;player&gt;\\|set &lt;level&gt; &lt;level&gt;) [--use-cache\\|--push=(true\\|false)\\|--no-process]</code> Manage XP <code>/levels xp (get &lt;player&gt;\\|set &lt;player&gt; &lt;xp&gt;\\|give &lt;player&gt; &lt;xp&gt;\\|take &lt;player&gt; &lt;xp&gt;) [--use-cache\\|--push=(true\\|false)\\|--no-process]</code> Manage player's received rewards <code>/levels manage players rewards &lt;player&gt; (list\\|get &lt;reward&gt;\\|set &lt;reward&gt; (blocked\\|level) &lt;value&gt;\\|reset &lt;reward&gt;\\|delete &lt;reward&gt;) [--use-cache\\|--push=(true\\|false)\\|--no-process]</code> Manage Cached Name <code>/levels manage players cached-name &lt;player&gt; (get\\|clear) [--use-cache\\|--push=(true\\|false)\\|--no-process]</code> Manually process player <code>/levels manage players update &lt;player&gt; [--use-cache\\|--push=(true\\|false)]</code> Manually sync player with database <code>/levels manage players sync &lt;player&gt;</code> Erase player from database <code>/levels manage players erase &lt;player&gt;</code> <p>All those commands have the permission <code>playerlevels.manage_players</code>.</p> <p>You might have already noticed that those commands support some command options:</p> Option Description <code>--use-cache</code> Most management commands will synchronize with the database before doing their stuff. If you don't want that, use this option. <code>--push=(true\\|false)</code> Most management commands will push their changes to the database immediately when they are done. If you don't want that, set this option to false. <code>--no-process</code> Most management commands will process (update) the player when they are done. Use this option if you don't want that."},{"location":"commands/#rewards","title":"Rewards","text":"<p>Those commands are for there for managing rewards:</p> Action Description List rewards <code>/levels manage rewards list</code> Get reward info <code>/levels manage rewards info &lt;id&gt;</code> Reload rewards from <code>rewards.yml</code> <code>/levels manage rewards reload</code> Enable/Disable reward <code>/levels rewards enable &lt;id&gt; (true\\|false)</code> <p>All those commands have the permission <code>playerlevels.manage_rewards</code>.</p>"},{"location":"commands/#debug-commands","title":"Debug commands","text":"<p>These commands are for debugging purposes:</p> Action Description Show and modify cache: <code>/levels debug cache (list\\|refresh\\|drop &lt;player&gt; [--no-process\\|--confirm]\\|drop-all [--no-process\\|--confirm])</code> Modify config: <code>/levels debug config (list [section]\\|get &lt;key&gt;\\|set &lt;key&gt; &lt;type&gt; &lt;value&gt;)</code> Manage database connection: <code>/levels debug database (connect\\|disconnect\\|info)</code> Modify messages config: <code>/levels debug messages (list [section]\\|get &lt;key&gt;\\|set &lt;key&gt; &lt;type&gt; &lt;value&gt;)</code> Reload config from files: <code>/levels debug reload (config\\|messages&gt; [--clear=(true\\|false)\\|--merge-defaults=(true\\|false)]</code> View plugin info: <code>/levels debug info</code> <p>The permission of those commands is <code>playerlevels.debug</code>. Don't use them if you don't know what you're doing.</p> <p>Overview of the available command options:</p> Option Description <code>--no-process</code> Same as in player management command. <code>--confirm</code> Confirms dangerous operations. <code>--clear</code> For reload command: Clears the config before merging the config file values into it. <code>--merge-default=(true\\|false)</code> For reload command: If the default values should be merged into the config before merging the config file values into it."},{"location":"installation/","title":"Setup and Installation","text":""},{"location":"installation/#requirements","title":"Requirements","text":"<ul> <li>One or multiple PaperMC (1.19+) servers.</li> <li>MariaDB (or MySQL) database.</li> </ul>"},{"location":"installation/#installation","title":"Installation","text":"<ol> <li>Download the plugin and put it into your <code>plugins</code> directory.</li> <li>(Re)start the server.</li> <li>Open <code>config.yml</code> and enter your database credentials. If you don't know how to do this, read the next chapter.</li> <li>Restart the server again or reload the config using <code>/levels debug reload config</code></li> <li>If you see no error in the console, the database connection should be established successfully. You can use <code>/levels debug database info</code> to check it if you want to make sure.</li> <li>Start using the plugin</li> </ol>"},{"location":"installation/#simple-database-setup","title":"Simple database setup","text":"<p>This guide is for Linux. If you use a Windows server and, you are on your own (and btw, you shouldn't use Windows for servers unless you are a masochist).</p> <ol> <li>Install MariaDB: <code>sudo apt install mariadb-server mariadb-client</code> or <code>sudo dnf install mariadb-server</code>.</li> <li>Let it start on OS startup: <code>sudo systemctl enable --now mariadb</code></li> <li>Start MariaDB setup: <code>sudo mariadb_secure_installation</code>.</li> <li>Answer the questions you're getting asked. Don't create security risks here. Disallow remote root login, select a password, remove test database, etc...</li> <li>Open MariaDB console: <code>sudo mariadb -u root</code>. As the root user on the OS, you can log into MariaDB without a root password.</li> <li>Create a database for PlayerLevels: <code>CREATE DATABASE playerlevels;</code></li> <li>Create a user for PlayerLevels: <code>CREATE USER 'db_playerlevels'@'localhost' IDENTIFIED BY 'your secure password'</code>. Do not use the root user for PlayerLevels!</li> <li>Grant privileges: <code>GRANT ALL PRIVILEGES ON db_playerlevels TO 'db_playerlevels'@'localhost';</code> and <code>FLUSH PRIVILEGES;</code>.</li> <li>Enter the credentials. In this example, <code>db_playerlevels</code> is your user, <code>your secure password</code> your password, <code>3306</code> your port and <code>playerlevels</code> your database.</li> </ol> <p>If you are using MySQL, it should be mostly the same, but I would recommend you to use MariaDB since my plugin is developed against that.</p>"},{"location":"installation/#next-steps","title":"Next steps","text":"<ul> <li>Choose xp formula: You might not like the default xp formula, so change it.</li> <li>Add some rewards and remove the default one.</li> <li>Set server ids for your servers.</li> <li>Change the plugin messages or disable some by replacing the message string with <code>\"\"</code>.</li> <li>Read the documentation to learn more about the plugin.</li> </ul>"},{"location":"integrations-cloudnet/","title":"CloudNet Integration","text":"<p>The CloudNet Integration automatically sets the PlayerLevels <code>server_id</code> to the current task name.</p>"},{"location":"integrations-cloudnet/#v12","title":"v1.2+","text":"<p>Since version 1.2, CloudNet support is directly integrated into PlayerLevels-Core. Unlike before, you don't need to install additional plugins for it.</p> <p>You can enable the CloudNet integration in the <code>config.yml</code>:</p> <pre><code># [...]\nintegrations:\n  cloudnet: true\n</code></pre> <p>(It should be enabled by default when CloudNet-Bridge is detected).</p>"},{"location":"integrations-cloudnet/#older-versions","title":"Older versions","text":"<p>For versions before 1.2, an extra plugin named <code>PlayerLevels-CloudNet</code> is required.</p>"},{"location":"integrations-cloudnet/#installation","title":"Installation","text":"<ol> <li>Download the PlayerLevels-CloudNet plugin.</li> <li>Put the Plugin into the same template as your PlayerLevels plugin.</li> <li>Restart the servers which are using the template.</li> </ol>"},{"location":"integrations-cloudnet/#usage","title":"Usage","text":"<p>The plugin does everything for you, just install it, and it will work.</p>"},{"location":"integrations-cloudnet/#recommended-setup","title":"Recommended setup","text":"<ol> <li>Create a new PlayerLevels template</li> <li>Put PlayerLevels (and its config files) and PlayerLevels-CloudNet into its <code>plugins</code> directory.</li> <li>Add the template to all tasks that should have PlayerLevels available.</li> </ol>"},{"location":"integrations-placeholderapi/","title":"PlaceholderAPI Integration","text":"<p>PlayerLevels supports PlaceholderAPI.</p>"},{"location":"integrations-placeholderapi/#installation","title":"Installation","text":"<p>PlaceholderAPI support is not integrated in the core plugin. You need to install a PlaceholderAPI expansion:</p> <ol> <li>Download the PlaceholderAPI expansion JAR file.</li> <li>Put the expansion file into <code>plugins/PlaceholderAPI/expansions/</code>.</li> <li>Restart the server.</li> </ol>"},{"location":"integrations-placeholderapi/#placeholders","title":"Placeholders","text":"<p>All Placeholders have the Prefix <code>playerlevels_</code>. So for example, <code>level</code> in the table means <code>playerlevels_levels</code> on the server.</p> Value Placeholder Description Player Level <code>level</code> The player's level Player XP (current level) <code>xp</code> The XP the player has on the current level Player XP (current level, formatted) <code>xp_formatted</code> <code>xp</code>, but formatted (like 1.2K or 2,5M) Player XP (total) <code>total_xp</code> The XP the player has in total (XP for all previous levels + current XP) Player XP (total, formatted) <code>total_xp_formatted</code> <code>total_xp</code>, but formatted (like 3.4K or 5.1M) Player UUID <code>uuid</code> The UUId of the player Player Name (cached name) <code>name</code> The cached name of the player Player's next level <code>level_next</code> The next level the player will reach (it's just <code>level + 1</code>) XP of the player's level <code>xp_current_level</code> The amount of XP of the player's current level (not the player's XP) XP of the player's level (formatted) <code>xp_current_level_formatted</code> <code>xp_current_level</code>, but formatted (like 3.4K or 5.1M) XP of the player's next level <code>xp_next_level</code> The amount of XP of the player's next level (not the player's XP) XP of the player's next level (formatted) <code>xp_next_level_formatted</code> <code>xp_next_level</code>, but formatted (like 3.4K or 5.1M) XP between player's level and next level <code>xp_to_next_level</code> The amount of XP of the player's level to the player's next level XP between player's level and next level (formatted) <code>xp_to_next_level_formatted</code> <code>xp_to_next_level</code>, but formatted (like 3.4K or 5.1M) Remaining XP to the next level <code>xp_remaining</code> The amount of XP the player needs to get to level up Remaining XP to the next level (formatted) <code>xp_remaining_formatted</code> <code>xp_remaining</code>, but formatted (like 3.4K or 5.1M) <p>You can also use all player's placeholders for the toplist, by adding <code>toplist_PLACE_</code> as prefix for the placeholder. So if you want the level of the first player on the toplist, use <code>playerlevels_toplist_1_level</code> as a placeholder.</p>"},{"location":"leveling/","title":"Leveling","text":"<p>One of the two major features of the plugin is leveling.</p>"},{"location":"leveling/#how-it-works","title":"How it works","text":"<p>Players can earn XP. Using the xp formula, this xp is \"transformed\" into levels. If a player reaches enough xp, the player levels up. That's mostly everything about the leveling system.</p>"},{"location":"leveling/#player-interaction","title":"Player interaction","text":"<p>Players can see their current leveling progress using the <code>/level</code>-command. If enabled in config, players can also see the level of other players by doing <code>/level info &lt;player&gt;</code>.</p> <p>You can customize the messages of those outputs in the config.</p> <p>If the expansion is installed, you can also use placeholders using PlaceholderAPI to show players their levels.</p>"},{"location":"leveling/#toplist","title":"Toplist","text":"<p>The plugin has a level toplist. Players can view the toplist using the <code>/level top</code> command.</p> <p>You can specify the length of the toplist in the configuration.</p> <p>If the expansion is installed, you can also show the toplist in placeholders.</p>"},{"location":"leveling/#leveling-as-a-player","title":"Leveling as a player","text":"<p>The plugin has no built-in way for players to earn xp. This choice has been made on purpose, since this plugin is designed to be integrated into other plugins.</p> <p>To earn XP, other plugins like your minigames need to give XP to the players using the API. If you are a developer who wants to integrate PlayerLevels into their plugin, read the API documentation.</p>"},{"location":"leveling/#management","title":"Management","text":"<p>PlayerLevels has many management commands. Here are some, you will find all of them in the command reference: - Get player information: <code>/level manage players info &lt;player&gt;</code> - Set level: <code>/level manage players level set &lt;player&gt; &lt;value&gt;</code> - Set xp: <code>/level manage players xp set &lt;player&gt; &lt;value&gt;</code> - Give xp: <code>/level manage players xp give &lt;player&gt; &lt;amount&gt;</code></p>"},{"location":"rewards/","title":"Rewards","text":"<p>The second of the two major features is the reward system.</p>"},{"location":"rewards/#how-it-works","title":"How it works","text":"<p>Rewards are \"actions\" which are applied to a player when that player reaches a specific level. There are several types of rewards, and more can be added using the API. Rewards can either be applied a single time when reaching a specific level or multiple times in a specific interval.</p>"},{"location":"rewards/#components-of-a-reward","title":"Components of a reward","text":"<p>This section explains what a reward consists of.</p>"},{"location":"rewards/#all-rewards","title":"All rewards","text":"<p>Every reward has these components.</p>"},{"location":"rewards/#reward-id","title":"Reward ID","text":"<p>This is the unique identifier of a reward. It is not shown to the user and has to be unique.</p>"},{"location":"rewards/#reward-name","title":"Reward Name","text":"<p>The name of the reward. This name is normally shown to the user when unlocking the reward or in a list of all rewards.</p>"},{"location":"rewards/#server-id","title":"Server ID","text":"<p>The server ID on which the reward should unlock. Rewards then will only unlock on servers with this specific ID. If there is no server ID set, the reward will unlock on all servers.</p> <p>This feature is intended for networks where not all plugins are available on all servers.</p> <p>Example: A player levels up on a server of Gamemode A. This levelup contains a reward for Gamemode B, but the plugin of Gamemode B is not available on the server of Gamemode A. If no server ID is set, giving the reward would fail. Therefore, you can set the server ID of that reward to the servers of Gamemode B. PlayerLevels will then wait giving the Player the reward until that player joins onto a server of Gamemode B.</p>"},{"location":"rewards/#reward-apply-type","title":"Reward Apply-Type","text":"<p>The apply-type of a reward determines when a reward is applied.</p> <p>There are two apply types: - Milestone Reward: Those rewards will only be given once when the player reaches a specific level. - Interval rewards: Those rewards will be applied in a specific interval, with an optional staring and ending point.</p> <p>You will find out more about this in the next section.</p>"},{"location":"rewards/#description","title":"Description","text":"<p>The reward description is provided by the reward type you have selected, but most of the reward types let you set as you want. Some reward types allow the usage of placeholders in the description. This allows you for example the amount of points you just earned.</p> <p>If you are a developer, this is not a description text. This is a RewardDescriptionProvider, with which you can dynamically provide reward descriptions on a per-player basis.</p>"},{"location":"rewards/#player-online-requirement","title":"Player Online Requirement","text":"<p>This sets if the player needs to be online for the reward can be given.</p> <p>It is mostly irrelevant because it is up to the reward type and players are not loaded when being offline under normal circumstances. But this option exists, and now you know it.</p>"},{"location":"rewards/#reward-type-reward-executor","title":"Reward Type (Reward Executor)","text":"<p>The reward type is the actual thing that is done when the player unlocks the reward. You can find more information about this in the section about the default reward types.</p> <p>If you are a developer, this is not a reward type. It is a reward executor, which contains the code that is executed when the player unlocks the reward.</p>"},{"location":"rewards/#milestone-rewards","title":"Milestone Rewards","text":"<p>Only milestone rewards have these components.</p>"},{"location":"rewards/#level","title":"Level","text":"<p>The level where the milestone reward is applied.</p> <p>For example when the level of a milestone reward is set to 10 and a player reaches level 10, the reward is applied. After this, the reward is not applied again (except the specific reward uses a custom condition).</p>"},{"location":"rewards/#custom-condition","title":"Custom Condition","text":"<p>Milestone rewards can have custom conditions. Those custom conditions can determine unter which circumstances can be given again, even if the reward has already been given.</p> <p>Having this depends on the reward type you are using. Most reward types don't need this.</p> <p>If you are a developer, you can make use of this feature for your custom rewards.</p>"},{"location":"rewards/#interval-rewards","title":"Interval Rewards","text":"<p>Only interval rewards have these components.</p>"},{"location":"rewards/#interval","title":"Interval","text":"<p>The interval in which the reward is given to the player.</p> <p>For example, if the interval is set to 10, the reward will be given to players on level 11, 21, 31, 41, etc... (when the start is set to level 1).</p>"},{"location":"rewards/#start","title":"Start","text":"<p>The level where the interval is started.</p> <p>For example, if you have a reward with an interval of 10 and the start is set to 20, the reward will be given the first time on level 20, and then on 30, 40, 50, etc...</p>"},{"location":"rewards/#limit","title":"Limit","text":"<p>The level over which the reward is no longer applied.</p> <p>For example, if the interval is set to 10 and the limit to 50, the reward will only unlock on the levels 11, 21, 31 and 41, but NOT on 51, 61, etc...</p>"},{"location":"rewards/#configuration","title":"Configuration","text":"<p>Rewards can be configured in the <code>rewards.yml</code> configuration file.</p>"},{"location":"rewards/#milestone-reward","title":"Milestone reward","text":"<pre><code>test_milestone_reward:      # &lt;-- The reward ID. Has to be unique.\n  name: Test Reward         # &lt;-- The reward name that is displayed to the players.     \n  apply_type: milestone     # &lt;-- The apply-type. In this case, it's 'milestone', because we want to add a milestone reward.\n  level: 10                 # &lt;-- The level the reward is applied on.\n  type: my_reward_type      # &lt;-- The reward type.\n  # [Reward-specific settings will come here]\n</code></pre>"},{"location":"rewards/#interval-reward","title":"Interval reward","text":"<pre><code>test_milestone_reward:      # &lt;-- The reward ID. Has to be unique.\n  name: Test Reward         # &lt;-- The reward name that is displayed to the players.     \n  apply_type: interval      # &lt;-- The apply-type. In this case, it's 'interval', because we want to add an interval reward.\n  start: 10                 # &lt;-- The start point of the intervals.\n  interval: 1               # &lt;-- The interval in which the reward is applied.\n  limit: -1                 # &lt;-- The limit after which the reward will no longer be applied.\n  type: my_reward_type      # &lt;-- The reward type.\n  # [Reward-specific settings will come here]\n</code></pre>"},{"location":"rewards/#reward-types","title":"Reward types","text":""},{"location":"rewards/#default-types","title":"Default types","text":""},{"location":"rewards/#command","title":"Command","text":"<p>A command reward is the simplest reward type. It just executes a command when the reward is applied.</p> <p>You can configure it like this:</p> <pre><code>test_command_reward:\n  # [...]\n  type: command                                                                               # &lt;-- Set command as the reward type\n  command: \"say Reward: {reward_name}, Player: {player_name}, Level: {player_reward_level}\"   # &lt;-- The command to run\n  sender_type: console                                                                        # &lt;-- The sender type (console or player)\n  description: \"My wonderful reward description\"                                              # &lt;-- The reward description.\n</code></pre> <p>This reward type can be added as a milestone and as an interval reward.</p>"},{"location":"rewards/#luckperms","title":"LuckPerms","text":"<p>This reward type gives a permission to the player when the reward is unlocked.</p> <p>You can configure it like this:</p> <pre><code>test_luckperms_reward:\n  # [...]\n  type: luckperms                 # &lt;-- Set luckperms as the reward type.\n  permission: \"my_permission\"     # &lt;-- The permission that should be given to the player.\n  description: \"My Description\"   # &lt;-- The reward description.\n</code></pre> <p>This reward can only be added as a milestone reward.</p> <p>This reward uses a custom apply-condition. If the player has unlocked this reward, PlayerLevels will check if the player has the permission. If the player does not have the permission, it will be given (again), even if the player has unlocked the reward previously and not in this moment.</p>"},{"location":"rewards/#playerpoints","title":"PlayerPoints","text":"<p>This reward type gives a player some points using PlayerPoints.</p> <p>You can configure it like this:</p> <pre><code>test_playerpoints_reward:\n  # [...]\n  type: playerpoints                        # &lt;-- Use playerpoints as the reward type\n  formula: level * 10                       # &lt;-- The formula that determines how much points the player will get. Available Variables: level, xp\n  description: \"&lt;gray&gt;+ &lt;points&gt; points\"    # &lt;-- The reward description. Supports minimessage and the &lt;points&gt; placeholder.\n</code></pre> <p>This reward type can be added as a milestone and as an interval reward.</p>"},{"location":"rewards/#custom-rewards","title":"Custom rewards","text":"<p>Other plugins can add custom rewards using the API.</p> <p>If a plugin registers a custom reward type, you can just configure it like the default rewards:</p> <pre><code>test_custom_reward:\n  # [...]\n  type: my_custom_type    # &lt;-- Use the type id of the custom reward here\n  # [Options of the custom reward]\n</code></pre> <p>If you are a developer who wants to add a custom reward type, you can find out more in the developer documentation.</p>"},{"location":"rewards/#manage-rewards","title":"Manage rewards","text":"<p>You can also manage rewards using a command. But it is not as powerful as the player management command. Here are some examples: - List rewards: <code>/levels manage rewards list</code> - Get reward info: <code>/levels manage rewards info &lt;id&gt;</code> - Reload rewards.yml: <code>/levels manage rewards reload</code> - Enable/disable reward (not permanent, only for current server): <code>/levels rewards enable &lt;id&gt; true/false</code></p>"}]}